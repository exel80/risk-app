(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4369)}])},4369:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(4051),i=n.n(r),a=n(5893),s=n(9008),c=n.n(s),o=n(7294),d=n(7160),l=n.n(d),u=n(723);function h(e,t,n,r,i,a,s){try{var c=e[a](s),o=c.value}catch(d){return void n(d)}c.done?t(o):Promise.resolve(o).then(r,i)}function x(){var e=(0,o.useState)(1),t=e[0],n=e[1],r=(0,o.useState)(1),s=r[0],d=r[1],x=(0,o.useState)(null),m=x[0],j=x[1],f=(0,o.useState)(!1),v=f[0],p=f[1],_=function(){var e,n=(e=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,fetch("api/match?defenderTotal=".concat(t,"&attackerTotal=").concat(s)).then((function(e){return e.json()})).then((function(e){j(e),p(!1)}));case 3:console.log(m);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){h(a,r,i,s,c,"next",e)}function c(e){h(a,r,i,s,c,"throw",e)}s(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,a.jsxs)("div",{className:l().container,children:[(0,a.jsxs)(c(),{children:[(0,a.jsx)("title",{children:"Risk battle simulator"}),(0,a.jsx)("meta",{name:"description",content:"Risk board game battle simulator"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,a.jsxs)("main",{className:l().main,children:[(0,a.jsxs)("h1",{className:l().title,children:["Click to ",(0,a.jsx)("span",{children:"Risk!"})]}),(0,a.jsxs)("div",{className:l().grid,children:[(0,a.jsxs)("div",{className:l().card,children:[(0,a.jsx)("h2",{children:"Defender"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("label",{htmlFor:"defender",children:"Defender troop amount"}),(0,a.jsx)("input",{type:"number",id:"defender",name:"defender",value:t,onChange:function(e){n(parseInt(e.target.value))},min:1,max:1e3})]})]}),(0,a.jsxs)("div",{className:l().card,children:[(0,a.jsx)("h2",{children:"Attacker"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("label",{htmlFor:"attacker",children:"Attacker troop amount"}),(0,a.jsx)("input",{type:"number",id:"attacker",name:"attacker",value:s,onChange:function(e){d(parseInt(e.target.value))},min:1,max:1e3})]})]}),(0,a.jsx)("button",{onClick:function(){_()},children:"FIGHT!"}),(0,a.jsx)("div",{className:l().card,style:{width:"100%",maxWidth:"100%"},children:v?"Loading...":m&&(0,a.jsx)(u.default,{data:m})})]})]})]})}},723:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(5893),i=n(2814),a=n(9398);function s(e){var t=e.data;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("table",{className:"table table-striped",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Defender"}),(0,r.jsx)("th",{}),(0,r.jsx)("th",{}),(0,r.jsx)("th",{children:"Attacker"})]})}),(0,r.jsx)("tbody",{children:null===t||void 0===t?void 0:t.matches.map((function(e){return(0,r.jsxs)("tr",{children:[(0,r.jsxs)("td",{children:[e.defender.current," / ",e.defender.total," ",(0,r.jsx)(i.G,{icon:a.NdV})]}),(0,r.jsxs)("td",{children:["(",(0,r.jsx)(i.G,{icon:a.RJo})," ",e.defender.rolls.join(","),")"]}),(0,r.jsxs)("td",{children:[" ",(0,r.jsx)(i.G,{icon:a.Z$V})," "]}),(0,r.jsxs)("td",{children:[e.attacker.current," / ",e.attacker.total," ",(0,r.jsx)(i.G,{icon:a.NdV})]}),(0,r.jsxs)("td",{children:["(",(0,r.jsx)(i.G,{icon:a.RJo})," ",e.attacker.rolls.join(","),")"]})]},e.id)}))})]}),(0,r.jsxs)("h1",{className:"display-3 ".concat(0==(null===t||void 0===t?void 0:t.status)?"text-primary":"text-danger"),children:[" ",0==(null===t||void 0===t?void 0:t.status)?"DEFENDER WON!":"ATTACKER WON!"," "]}),(0,r.jsxs)("p",{children:["Defender lost ",(null===t||void 0===t?void 0:t.matches[t.matches.length-1].defender.current)-(null===t||void 0===t?void 0:t.matches[0].defender.total)," troop(s)"]}),(0,r.jsxs)("p",{children:["Attacker lost ",(null===t||void 0===t?void 0:t.matches[t.matches.length-1].attacker.current)-(null===t||void 0===t?void 0:t.matches[0].attacker.total)," troop(s)"]})]})}},7160:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}},9008:function(e,t,n){e.exports=n(3121)}},function(e){e.O(0,[523,814,774,888,179],(function(){return t=5557,e(e.s=t);var t}));var t=e.O();_N_E=t}]);