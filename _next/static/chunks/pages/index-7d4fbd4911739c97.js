(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(2863)}])},2863:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var s=a(5893),n=a(9008),r=a.n(n),c=a(7294),l=a(7160),d=a.n(l),i=a(9547),o=a.n(i),x=a(2814),u=a(9398);function h(e){var t,a,n=1e4;return a=n>(t=e.data.map((function(e){return e.status})).reduce((function(e,t){return e+(0===t?1:0)})))?n-t:t-n,t=t/n*100,a=a/n*100,(0,s.jsx)("div",{className:"position-absolute",style:{bottom:0,left:0,width:"100%"},children:(0,s.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,s.jsxs)("div",{className:"d-flex bd-highlight bg-success flex-nowrap",children:[(0,s.jsx)("div",{className:"order-1 p-2",children:"Defender"}),(0,s.jsxs)("div",{className:"order-2 p-2",children:["~",t.toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"d-flex bd-highlight bg-danger flex-nowrap",children:[(0,s.jsx)("div",{className:"order-2 p-2",children:"Attacker"}),(0,s.jsxs)("div",{className:"order-1 p-2",children:["~",a.toFixed(1),"%"]})]})]})})}function m(e){var t=e.dataChunk,a=t[0],n=new Date;return(0,s.jsxs)("div",{className:"jsx-442266310d54c197 card bg-secondary",children:[(0,s.jsx)(o(),{id:"442266310d54c197",children:".shadow-black.jsx-442266310d54c197{text-shadow:2px 2px 5px black}.custom-white.jsx-442266310d54c197{font-size:12px;text-shadow:-1px -1px 1px rgba(0,0,0,.3);color:#ccc}"}),(0,s.jsxs)("div",{className:"jsx-442266310d54c197 table-responsive",children:[(0,s.jsxs)("div",{style:{right:10},className:"jsx-442266310d54c197 position-absolute custom-white m-1",children:["Generated at ",n.toLocaleTimeString()]}),(0,s.jsxs)("div",{className:"jsx-442266310d54c197 card-body pb-4 position-relative text-center text-white",children:[(0,s.jsxs)("h1",{style:{textShadow:"2px 2px 5px ".concat(0==(null===a||void 0===a?void 0:a.status)?"darkblue":"darkred")},className:"jsx-442266310d54c197 "+"display-3 ".concat(0==(null===a||void 0===a?void 0:a.status)?"text-primary":"text-danger"),children:[" ",0==(null===a||void 0===a?void 0:a.status)?"DEFENDER WON!":"ATTACKER WON!"," "]}),(0,s.jsx)("span",{className:"jsx-442266310d54c197 shadow-black",children:0==(null===a||void 0===a?void 0:a.status)?(0,s.jsxs)("p",{className:"jsx-442266310d54c197",children:["Defender lost ",(null===a||void 0===a?void 0:a.matches[a.matches.length-1].defender.current)-(null===a||void 0===a?void 0:a.matches[0].defender.total)," troop(s)"]}):(0,s.jsxs)("p",{className:"jsx-442266310d54c197",children:["Attacker lost ",(null===a||void 0===a?void 0:a.matches[a.matches.length-1].attacker.current)-(null===a||void 0===a?void 0:a.matches[0].attacker.total)," troop(s)"]})}),(0,s.jsx)(h,{data:t})]}),(0,s.jsxs)("table",{className:"jsx-442266310d54c197 table table-sm table-dark table-striped m-0",children:[(0,s.jsx)("thead",{className:"jsx-442266310d54c197",children:(0,s.jsxs)("tr",{className:"jsx-442266310d54c197",children:[(0,s.jsx)("th",{className:"jsx-442266310d54c197",children:"Defender"}),(0,s.jsx)("th",{className:"jsx-442266310d54c197"}),(0,s.jsx)("th",{className:"jsx-442266310d54c197"}),(0,s.jsx)("th",{className:"jsx-442266310d54c197",children:"Attacker"}),(0,s.jsx)("th",{className:"jsx-442266310d54c197"})]})}),(0,s.jsx)("tbody",{className:"jsx-442266310d54c197",children:null===a||void 0===a?void 0:a.matches.map((function(e){return(0,s.jsxs)("tr",{className:"jsx-442266310d54c197",children:[(0,s.jsxs)("td",{className:"jsx-442266310d54c197 text-nowrap",children:[e.defender.current," / ",e.defender.total," ",(0,s.jsx)(x.G,{icon:u.NdV,className:"fa-xs"})]}),(0,s.jsxs)("td",{className:"jsx-442266310d54c197 text-nowrap",children:["(",(0,s.jsx)(x.G,{icon:u.RJo,className:"fa-sm"})," ",e.defender.rolls.join(","),")"]}),(0,s.jsxs)("td",{className:"jsx-442266310d54c197 text-nowrap",children:[e.defender.fallen<=0?(0,s.jsx)("span",{className:"jsx-442266310d54c197 text-success p-1",children:"0"}):(0,s.jsxs)("span",{className:"jsx-442266310d54c197 text-danger p-1",children:["-",e.defender.fallen]}),"/",e.attacker.fallen<=0?(0,s.jsx)("span",{className:"jsx-442266310d54c197 text-success p-1",children:"0"}):(0,s.jsxs)("span",{className:"jsx-442266310d54c197 text-danger p-1",children:["-",e.attacker.fallen]})]}),(0,s.jsxs)("td",{className:"jsx-442266310d54c197 text-nowrap",children:[e.attacker.current," / ",e.attacker.total," ",(0,s.jsx)(x.G,{icon:u.NdV,className:"fa-xs"})]}),(0,s.jsxs)("td",{className:"jsx-442266310d54c197 text-nowrap",children:["(",(0,s.jsx)(x.G,{icon:u.RJo,className:"fa-sm"})," ",e.attacker.rolls.join(","),")"]})]},e.id)}))})]})]})]})}var j=a(4051),f=a.n(j),p=a(7686),v=a.n(p);function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,s=new Array(t);a<t;a++)s[a]=e[a];return s}function b(e,t,a,s,n,r,c){try{var l=e[r](c),d=l.value}catch(i){return void a(i)}l.done?t(d):Promise.resolve(d).then(s,n)}function k(e){return function(){var t=this,a=arguments;return new Promise((function(s,n){var r=e.apply(t,a);function c(e){b(r,s,n,c,l,"next",e)}function l(e){b(r,s,n,c,l,"throw",e)}c(void 0)}))}}function w(e){return function(e){if(Array.isArray(e))return N(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return N(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){var t=e.defender,a=e.attacker,n=e.defenderPAtt,r=e.attackerPAtt,c=e.setData,l=e.setLoading,d=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e,c=t,l=new(v()),d={status:0,matches:[]},i=0,o=function(a,n){return{id:++i-1,defender:{total:parseInt(e),current:parseInt(s),rolls:w(a)},attacker:{total:parseInt(t),current:parseInt(c),rolls:w(n)}}},x=function(e){a||console.log(e)},u=function(e){for(var t=[],a=0;a<e;a++)t.push(Math.ceil(6*l()));return t.sort((function(e,t){return t-e}))};c>0&&s>0;){var h=void 0,m=void 0;m="x1"===r?1:"x2"===r?c>=2?2:c:c>=3?3:c;var j=0,f=0,p=u(h="x2"===n?s>=2?2:s:1);x("Defender rolled ".concat(p));var N=u(m);x("Attacker rolled ".concat(N)),a||d.matches.push(o(p,N)),p[0]>=N[0]?(x("[0] Defender won (D ".concat(p[0]," >= A ").concat(N[0],")")),c--,f++):p[0]<N[0]&&(x("[0] Attacker won (D ".concat(p[0]," >= A ").concat(N[0],")")),s--,j++),h>1&&(p[1]>=N[1]?(x("[1] Defender won (D ".concat(p[1]," >= A ").concat(N[1],")")),c--,f++):p[1]<N[1]&&(x("[1] Attacker won (D ".concat(p[1]," >= A ").concat(N[1],")")),s--,j++)),a||(d.matches[i-1].defender.fallen=j,d.matches[i-1].attacker.fallen=f)}return d.status=s>0?0:1,d},i=function(e){return e>0&&e<=1e3?e:1},o=function(e){x=e,l(e)},x=!1;function u(){return(u=k(f().mark((function e(){var s,n,r,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=2;break}return e.abrupt("return");case 2:for(o(!0),s=i(t),n=i(a),r=[],r=[d(s,n)],l=1;l<1e4;l++)r=w(r).concat([d(s,n,!0)]);c(r),o(!1),console.log(r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,s.jsx)("button",{className:"btn btn-success w-100",onClick:function(){return u.apply(this,arguments)},children:"FIGHT!"})}function y(){var e=function(e){switch(e.target.name){case"defenderUnitAmount":n(parseInt(e.target.value));break;case"attackerUnitAmount":o(parseInt(e.target.value));break;case"defenderUnitPerAttack":["x1","x2"].includes(e.target.value)&&h(e.target.value);break;case"attackerUnitPerAttack":["x1","x2","x3"].includes(e.target.value)&&p(e.target.value);break;default:console.log(e.target.name,"? What are you doing ?")}},t=(0,c.useState)(1),a=t[0],n=t[1],l=(0,c.useState)(1),i=l[0],o=l[1],x=(0,c.useState)("x2"),u=x[0],h=x[1],j=(0,c.useState)("x3"),f=j[0],p=j[1],v=(0,c.useState)(null),N=v[0],b=v[1],k=(0,c.useState)(!1),w=k[0],y=k[1];return(0,s.jsxs)("div",{className:"container-fluid bg-dark",children:[(0,s.jsxs)(r(),{children:[(0,s.jsx)("title",{children:"Risk battle simulator"}),(0,s.jsx)("meta",{name:"description",content:"Risk board game battle simulator"}),(0,s.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,s.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,s.jsx)("div",{className:"row pb-3",children:(0,s.jsxs)("h1",{className:d().title,children:["Click to ",(0,s.jsx)("span",{children:"Risk!"})]})}),(0,s.jsxs)("div",{className:"row justify-content-md-center",children:[(0,s.jsx)("div",{className:"col col-lg-3",children:(0,s.jsxs)("div",{className:"card text-white bg-primary",children:[(0,s.jsx)("h2",{className:"card-header",children:"Defender"}),(0,s.jsx)("div",{className:"card-body",children:(0,s.jsxs)("p",{className:"card-text",children:[(0,s.jsx)("label",{htmlFor:"defender",children:"Defender troop amount"}),(0,s.jsx)("br",{}),(0,s.jsx)("input",{className:"w-75 d-inline",type:"number",id:"defender",name:"defenderUnitAmount",value:a,onChange:e,min:1,max:1e3}),(0,s.jsxs)("select",{className:"form-control form-control-sm d-inline w-auto",name:"defenderUnitPerAttack",onChange:e,children:[(0,s.jsx)("option",{children:"x2"}),(0,s.jsx)("option",{children:"x1"})]})]})})]})}),(0,s.jsx)("div",{className:"col col-lg-3",children:(0,s.jsxs)("div",{className:"card text-white bg-danger",children:[(0,s.jsx)("h2",{className:"card-header",children:"Attacker"}),(0,s.jsx)("div",{className:"card-body",children:(0,s.jsxs)("p",{className:"card-text",children:[(0,s.jsx)("label",{htmlFor:"attacker",children:"Attacker troop amount"}),(0,s.jsx)("br",{}),(0,s.jsx)("input",{className:"w-75 d-inline",type:"number",id:"attacker",name:"attackerUnitAmount",value:i,onChange:e,min:1,max:1e3}),(0,s.jsxs)("select",{className:"form-control form-control-sm d-inline w-auto",name:"attackerUnitPerAttack",onChange:e,children:[(0,s.jsx)("option",{children:"x3"}),(0,s.jsx)("option",{children:"x2"}),(0,s.jsx)("option",{children:"x1"})]})]})})]})})]}),(0,s.jsx)("div",{className:"row justify-content-md-center p-3",children:(0,s.jsx)("div",{className:"col col-md-auto",children:(0,s.jsx)(g,{defender:a,attacker:i,defenderPAtt:u,attackerPAtt:f,setData:b,loading:w,setLoading:y})})}),N&&(0,s.jsx)("div",{className:"row justify-content-md-center",children:(0,s.jsx)("div",{className:"col-lg-auto",children:(0,s.jsx)(m,{dataChunk:N})})})]})}},7160:function(e){e.exports={title:"Home_title__T09hD",description:"Home_description__41Owk"}}},function(e){e.O(0,[523,737,774,888,179],(function(){return t=5557,e(e.s=t);var t}));var t=e.O();_N_E=t}]);